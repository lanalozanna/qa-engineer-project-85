---
- summary: |
    Проверка регистрации нового пользователя на сайте через емэйл
  requirement: |
    Пользователь может зарегистрироваться на сайте используя емэйл
  prerequisites: |
    Открыта страница регистрации Sign up
  test-data: |
    Nickname = user1 Email = user1@mail.ru Пароль = useruser 
  steps:
    - Вводим никнейм
    - Вводим емэйл
    - Вводим пароль
    - Вводим пароль
    - Нажимаем на кнопку "Submit"
  expected-result: |
    Происходит успешная регистрация пользователя и пользователь
    попадает на главную страницу
- summary: |
    Проверка входа пользователя с существующими емэйлом и паролем
  requirement: |
    При верном вводе емэйла и пароля пользователь должен войти в систему
  prerequisites: |
    Открыта страница логина Sign in
  test-data: |
    Еmail = user1@mail.ru Пароль = useruser
  steps:
    - Вводим Еmail
    - Вводим пароль
    - Нажимаем кнопку "Submit"
  expected-result: |
    Пользователь успешно авторизуется и попадает на главную страницу сайта.
- summary: |
    Проверка входа пользователя с несуществующим емайлом
  requirement: |
    При вводе неверного емэйла появляется сообщение об ошибке
  prerequisites: |
    Открыта страница логина Sign in
  test-data: |
    Еmail = use1@mail.ru Пароль = useruser
  steps:
    - Вводим Еmail
    - Вводим пароль
    - Нажимаем кнопку "Submit"
  expected-result: |
    Появляется сообщение об ошибке "EMAIL_NOT_FOUND"
- summary: |
    Проверка входа пользователя с неверным паролем
  requirement: |
    При вводе неверного пароля появляется сообщение об ошибке
  prerequisites: |
    Открыта страница логина Sign in
  test-data: |
    Еmail = user1@mail.ru Пароль = useruser111
  steps:
    - Вводим Еmail
    - Вводим пароль
    - Нажимаем кнопку "Submit"
  expected-result: |
    Появляется сообщение об ошибке "INVALID_PASSWORD"
- summary: |
    Просмотр списка завершенных игр
  requirement: |
    На сайте пользователь может увидеть список всех состоявшихся игр
  prerequisites: |
    Пользователь авторизован, открыта главная страница.
  test-data: |
    Еmail = user1@mail.ru Пароль = useruser
  steps:
    - Кликнуть на вкладку "Completed games".
  expected-result: |
    Открывается список завершенных игр, которые отсортированы по
    дате завершения в прямом порядке.
- summary: >
    Просмотр краткого рейтинга игроков за разные периоды времени на главной
    странице
  requirement: |
    На главной странице пользователю доступна таблица-рейтинг игроков
    за неделю, месяц и за всё время.
  prerequisites: |
    Пользователь авторизован, открыта главная страница.
  test-data: |
    Еmail = user1@mail.ru Пароль = useruser
  steps:
    - на вкладке "Leaderboard" кликнуть на вкладку "Month"
    - на вкладке "Leaderboard" кликнуть на вкладку  "All"
  expected-result: |
    По умолчанию при загрузки главной страницы на вкладке
    "Leaderboard" доступна информация о первых 7ми игроках с наибольшим
    количеством баллов за неделю, отсортирова.

    При клике на 2 другие вкладки появляется соответствующая информация за месяц и весь период. 
- summary: |
    Возможность просмотра полного рейтинга пользователей за разные периоды
    времени 
  requirement: |
    Пользователь может просмотреть полный рейтниг  за неделю, месяц и
    за всё время.
  prerequisites: |
    Пользователь авторизован, открыта главная страница.
  test-data: |
    Еmail = user1@mail.ru Пароль = useruser
  steps:
    - На вкладке "Leaderboard" нажать на "Top List".
  expected-result: |
    Откроется страница с полным рейтингом всех пользователей за
    неделю,месяц,весь период, 

    и возможностью сортировки по баллам, количеству сыгранных игр, дате регистрации на сайте.
- summary: |
    Возможность создания игры с ботом
  requirement: |
    На сайте можно создать игру, где пользователь играет против бота.
  prerequisites: |
    Пользователь авторизован, открыта главная страница.
  test-data: |
    Еmail = user1@mail.ru Пароль = useruser
  steps:
    - Нажать на "Create a game"
    - В появившемся попапе выбрать любые параметры level, time, task by name,
      tags.
    - В разделе Game type выбрать "with a bot"
    - Нажать на "Create Battle".
  expected-result: |
    Загружается страница с создавшекйся игрой, где  соперник - бот.
- summary: |
    Возможность отправления приглашения сыграть другу.
  requirement: |
    На сайте можно создать игру с другом, который является пользователем сайта
  prerequisites: |
    Пользователь авторизован, открыта главная страница.
  test-data: |
    Еmail = user1@mail.ru Пароль = useruser Оппонент = user2
  steps:
    - Нажать на "Create a game"
    - В появившемся попапе выбрать любые параметры level, time, task by name,
      tags.
    - В разделе Game type выбрать "with a friend"
    - В разделе 'Choose opponent' ввести "user2"
    - Нажать на "Create Invite".
  expected-result: |
    В хэдере появляется уведомление об отправленном приглашении.
- summary: |
    Возможность отправления приглашения сыграть другу.

    requirement: |

    На сайте можно создать игру с другом, который является пользователем сайта

    prerequisites: |

    Пользователь авторизован, открыта главная страница.

    test-data: |

    Еmail для user1 = user1@mail.ru Пароль для user1 = useruser Оппонент: user2 Еmail для user2 = user2@mail.ru Пароль для user2 = useruser

    steps:

    - Нажать на "Create a game"

    - В появившемся попапе выбрать любые параметры level, time, task by name, tags.

    - В разделе Game type выбрать "with a friend".

    - В разделе 'Choose opponent' ввести "user2".

    - Нажать на "Create Invite".

    - Выйти из профиля user1 нажав на Sign out в хэдере.

    - Авторизоваться, введя данные пользователя user2.

    - Нажать на уведомление о приглашении в хэдере.

    - Нажать на "Accept".

    expected-result: |

    Загрузится страница с игрой с заданными параметрами сложности, времени, заданием и оппонентами user1 и user2.
- summary: |
    Проверка доступности задания игры русском и английском языках.
  requirement: |
    Все задания должны быть доступны на двух языках, русском и английском.
  prerequisites: |
    Пользователь авторизован, открыта главная страница.
  test-data: |
    Еmail = user1@mail.ru Пароль = useruser
  steps:
    - Нажать на "Create a game"
    - В появившемся попапе выбрать любые параметры level, time, game type task
      by name, tags.
    - Нажать на "Create Battle"
    - В открывшейся игре нажать на вкладку языков и поменять на Ru если был En,
      и наоборот.
  expected-result: |
    Текст задания появляется на втором языке.
- summary: |
    Проверка возможности изменения языка программирования во время игры
  requirement: |
    Игрок может изменить язык программирования во время игры.
  prerequisites: |
    Пользователь авторизован, открыта главная страница.
  test-data: |
    Еmail = user1@mail.ru Пароль = useruser
  steps:
    - Нажать на "Create a game"
    - В появившемся попапе выбрать любые параметры level, time, game type task
      by name, tags.
    - Нажать на "Create Battle".
    - В выпадающем списке языков программирования над редактором кода нажимаем
      на любой другой язык, отличающийя от актуального.
  expected-result: |
    Язык программирования в редакторе кода меняется на выбранный.
     
- summary: |
    Проверка возможности игрока досрочно завершить игру, сдавшись. 

    requirement: |

    Во время игры у игрока есть возможность сдаться и  завершить игру.

    prerequisites: |
     Пользователь авторизован, открыта главная страница.
    test-data: |
     Еmail = user1@mail.ru Пароль = useruser
    steps:
     - Нажать на "Create a game"
     - В появившемся попапе выбрать любые параметры level, time, game type task by name, tags.
     - Нажать на "Create Battle".
     - Нажимаем на красный флажок "Give Up" в своем поле.
     - Подтверждаем действие в попапе, нажимая "Give Up"
    expected-result: |
     В поле игрока user1 появляется надпись Game Over. user1 присуждается 0 баллов. Jппоненту 1 балл.
     Информация об этом появляется в пункте "score" в поле каждого игрока
     
- summary: |
    Проверка возможности игрока сбросить все изменения в коде, которые он
    сделал. 
  requirement: |
    Во время игры у игрока есть возможность сбросить все сделанные им
    изменения в коде до первоначального вида.
  prerequisites: |
    Пользователь авторизован, открыта главная страница. 
  test-data: |
    Еmail = user1@mail.ru Пароль = useruser
  steps:
    - Нажать на "Create a game"
    - В появившемся попапе выбрать любые параметры level, time, game type task
      by name, tags.
    - Нажать на "Create Battle"
    - Нажимаем на значок над редактором  "Reset Editor"
  expected-result: |
    Изменения сделанные игроком с начала игры удаляются. Код
    принимает первоначальный вид.
    
- summary: |
    Проверка возможности просмотра списка завершенных игр.
  requirement: |
    На сайте доступен  список завершенных игр.
  prerequisites: |
    Пользователь авторизован, открыта главная страница.
  test-data: |
    Еmail = user1@mail.ru Пароль = useruser
  steps:
    - Нажимаем на вкладку 'Completed Games'
  expected-result: |
    Загружается таблица с завершенными играми отсортированными
    по  дате завершения,

    содержащая поля с никнэймами игроков, сложности игры и времени завершения.
    
- summary: |
    Проверка возможности просмотра любой завершенной игры в записи
  requirement: |
    Пользователь может посмотреть любую завершенную игру в записи.
  prerequisites: |
    Пользователь авторизован, открыта главная страница.
  test-data: |
    Еmail = user1@mail.ru Пароль = useruser
  steps:
    - Нажимаем на вкладку 'Completed Games'.
    - Выбираем любую из игр в таблице и нажимаем на кнопку "Show" в её строчке.
    - На загрузившейся странице с игрой нажимаем на кнопку проигрывания внизу.
  expected-result: |
    Начинается проигрывание записи выбранной игры, где видно каждое
    изменение в коде участников.
    
- summary: |
    Проверка возможности просмотра онлайн-трансляции чужой игры.
  requirement: |
    Пользователь может посмотреть продолжающуюся игру других
    пользователей онлайн.
  prerequisites: |
    Пользователь авторизован, открыта главная страница.
  test-data: |
    Еmail = user1@mail.ru Пароль = useruser
  steps:
    - Во вкладке Lobby выбрать игру, у которой статус обозначен иконкой 2х
      скрещенных мечей.
    - Нажать на кнопку Show в строке этой выбранной игры.
  expected-result: |
    Открывается страница с онлайн-трансляцией игры.
    
- summary: |
    Проверка просмотра информации о пользователе
  requirement: |
    У пользователя есть возможность просматривать информацию о других
    пользователях
  prerequisites: |
    Пользователь авторизован, открыта главная страница.
  test-data: |
    Еmail = user1@mail.ru Пароль = useruser
  steps:
    - В разделе Leaderboard нажимаем на никнейм любого пользователя.
  expected-result: |
    Загружается страница с информацией о выбранном пользователе,
    среди которой  есть данные о его активности, использованных языках
    программирования, 

    играх, в которых он принимал участие, количестве побед и поражений.
    
- summary: |
    Проверка невозможности изменения кода оппонента во время игры.
  requirement: |
    Игрок не имеет возможности писать что-либо в редактор кода противника.
  prerequisites: |
    Пользователь авторизован,
  test-data: |
    Еmail = user1@mail.ru Пароль = useruser
  steps:
    - Нажать на "Create a game"
    - В появившемся попапе выбрать любые параметры level, time, game type, task
      by name, tags.
    - Нажать на "Create Battle".
    - На странице с открывшейся игрой кликаем мышью на редактор кода оппонента.
    - Начинаем вводить любой текст.
  expected-result: |
    Ничего не происходит. Ввод данных не происходит.
- summary: |
    Проверка работы чата во время игры.
  requirement: >
    Во время игры оппоненты могут отправлять друг другу текстовые
    сообщения через чат.
  prerequisites: |
    Пользователь авторизован, открыта главная страница.
  test-data: |
    Еmail = user1@mail.ru Пароль = useruser Сообщение = "Hello world!"
  steps:
    - Нажать на "Create a game"
    - В появившемся попапе выбрать любые параметры level, time, game type task
      by name, tags.
    - Нажать на "Create Battle".
    - На странице открывшейся игры в поле ввода чата вводим сообщение "Hello
      world!".
    - Нажимаем на "Send".
  expected-result: |
    Поле ввода очищается, а сообщение появляется в окне чата.
- summary: |
    Проверка удобства использования сайта на мобильном устройстве.
  requirement: |
    Сайт должен быть удобным и адаптивным на мобильной устройстве,
    страницы должны отображаться верно.
  prerequisites: |
    Сайт открывается на мобильном устройстве с ОС - iOS 16.0(20A362)
  test-data: |
    Еmail = user1@mail.ru Пароль = useruser
  steps:
    - На мобильном устройстве переходим на страницу сайта
      https://codebattle.hexlet.io/#lobby
    - Авторизуемся, введя данные  для user1.
    - Нажимаем на раздел Tournaments.
    - Нажимаем на раздел Completed Games.
    - Нажимаем на раздел Leaderboard Month.
    - Нажимаем на раздел Lobby.
    - Скроллим вниз.
    - Нажимаем на Create a Game.
    - Вводим любые параметры level, game type, time, tag.
    - Нажимаем на Create Battle.
    - На странице игры нажать на поле ввода кода .
    - Ввести какой-либо текст.
    - Нажать на красный флажок Give Up.
  expected-result: |
    Разделы, элементы и страницы сайта отображаются верно, удобно
    для чтения и пользования.
- summary: |
    Проверка удобства использования сайта в последней версии браузера Chrome.
  requirement: |
    Сайт должен быть совместим с последними версиями браузеров, его
    элементы и страницы отображаются корректно, весь фукционал работает.
  prerequisites: |
    На компьютере установлена последняя версия браузера Chrome
    -Версия 109.0.5414.129
  test-data: |
    Еmail = user1@mail.ru Пароль = useruser
  steps:
    - В браузере открываем страницу сайта https://codebattle.hexlet.io/#lobby
    - Авторизуемся, введя данные  для user1.
    - Нажать на раздел Tournaments.
    - Нажать на раздел Completed Games.
    - Нажать на раздел Leaderboard Month.
    - Нажать на 'Create a Game'.
    - Ввести любые параметры level, game type, time, tag.
    - Нажать на 'Create Battle'.
    - На странице игры кликнуть мышью на поле ввода кода .
    - Ввести какой-либо текст.
    - Нажать на красный флажок Give Up.
    - Подтвердить действие в попапе, нажав Give Up.
  expected-result: |
    Разделы, элементы и страницы сайта отображаются верно, удобно
    для чтения и пользования, все тестируемые функции работают.
